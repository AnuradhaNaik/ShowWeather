<!DOCTYPE html>
<html>
    <head>   
                     
        <meta charset="UTF-8">
  <meta name="description" content="A Project to show weather in 5 cities of the east coast">
  <meta name="keywords" content="Weather,East Coast,NYC,Frontend,Web,Development">
  <meta name="author" content="Anuradha Naik">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<style type="text/css">
		*{
			padding: 6px;
		
             font-family: 'Roboto', sans-serif;

		}

</style>
                   
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script> 

    	<script type="text/javascript">
 var fivecities = { "NYC" : {
      "id": 5128638,
      "fullform": "New York",
      "state": "NY"
   },
   "CHI": {
      "id": 3582383,
      "fullform": "Chicago",
      "state": "IL"
   },
   "EWR": {
      "id": 4143861,
      "fullform": "Newark",
      "state": "NJ"
   },
   "PHI": {
      "id": 4560349,
      "fullform": "Philadelphia",
      "state": "PA"
   },
   "FAR": {
      "id": "4758023",
      "fullform": "FairFax",
      "state": "VA"
   }
};
    		window.onload = function () {
    			    var url = document.location.href;

    			 if(url.split('?')[1]){
       var params = url.split('?')[1].split('&'),
        data = {}, tmp;
       
    for (var i = 0, l = params.length; i < l; i++) {
         tmp = params[i].split('=');
         data[tmp[0]] = tmp[1];
    }
   console.log(data.name);
   var current=(fivecities[data.name]);
   var fullform=[current.fullform];
   var cityid=current.id;
    document.getElementById('currentcity').innerHTML =fullform;
    {
	$.getJSON("http://api.openweathermap.org/data/2.5/weather",
				{
					id:4758023,
					units:"imperial",
					appid:'f66894fc01700b34ac889809e442c6de'
				},
				function(response){  //'response' is actually a variable, we could name it what ever we want. It just stores what the api sends
					console.log(response)
					$(".temp").html(response.main.temp);
					  $(".weather").html(response.weather[0].description)
				});
	        

    }

}
}
    	</script>
    </head>

    <body style="text-align: center;">
		<span id="currentcity"></span>
        <div class="weather"></div>	<!-- Will show the weather -->
        <div class="temp"></div>	<!-- Will show the temperature -->

        <script>
	        $(".submit").click(function(){
		        	var city = $(".city").val()
		        	//Make the API Call
		        	$.getJSON("https://api.openweathermap.org/data/2.5/weather",
				{
					id:4758023,
					units:"imperial",
					appid:'f66894fc01700b34ac889809e442c6de'
				},
				function(response){  //'response' is actually a variable, we could name it what ever we want. It just stores what the api sends
					console.log(response)
					$(".temp").html(response.main.temp);
					  $(".weather").html(response.weather[0].description)
				});
	        })
	        
        </script> 
    </body>
</html>